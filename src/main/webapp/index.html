<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ask...</title>
<script>
function sendRequest(){
var tinput = document.getElementById("user-input");
text = tinput.value;
tinput.value = "";

var div = document.getElementById("box");
var p = document.createElement('p');
p.innerHTML = text; 
requestAPI();
}

function requestAPI(){
		var xhr = new XMLHttpRequest();
 		xhr.open("POST", "ai", true);
		console.log("Post req ")
		xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		var Data = "query=" + encodeURIComponent(text) ;
		xhr.send(Data);
		xhr.onloadend = function(e) {
				var div = document.getElementById("box");
				var p = document.createElement('p');
				p.innerHTML = e.target.responseText;
	
				var br = document.createElement('br');
				p.appendChild(br);
	
				div.appendChild(p);
		}
		
}
</script>
</head>
<body>
<h1> Demo Bot </h1>
<a href="./ai.html" > ai chat </a>
	<div id="box" style="width: 400px; border: 2px solid; height: 500px;"></div>
	<input type="text" id="user-input" style="width: 400px;" />
	<input type="button" value="submit" onclick="sendRequest()" />
</body>
</html>